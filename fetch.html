<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>fetch API</title>
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="js/object.js"></script>
  </head>
  <body>
    <a href="Ajax.html" class="return">이전으로 돌아가기</a>
    <br /><br />

    <h1>fetch API 소스 코드</h1>
    <p>
      <span class="blue">onclick</span>="fetch('<span
        title="괄호 안의 이 부분을 '불러 올 파일명' (확장자 없음) 으로 바꿔준다"
        class="filename"
        >파일명</span
      >').then(function(response){response.text().then(function(<span
        class="jquery3"
        title="변수:text라는 변수 안에 서버가 응답한 데이터가 들어가있다"
        >text</span
      >){<span
        class="jquery2"
        title="함수:모든 작업이 끝난 다음에는, 이 부분이 호출된다"
        >alert(<span class="jquery4">text</span>);</span
      >})})"
    </p>
    <br />
    이 코드를 이용해서 Ajax를 구현 및 사용할 수 있다.<br />
    <ol>
      <li>fetch 버튼을 누르면 이 코드에 의해서 서버에게 파일을 요청한다.</li>
      <li>응답이 끝나면 최종적으로 함수가 실행된다.</li>
      <li>서버가 응답해준 데이터가 text라는 변수에 담겨있다.</li>
    </ol>
    <br /><br />
    <input
      type="button"
      value="fetch1"
      onclick="
    fetch('fetch1').then(function(response){response.text().then(function(text){alert(text)})})"
    />
    <input
      type="button"
      value="fetch2"
      onclick="
    fetch('fetch2').then(function(response){response.text().then(function(text){document.querySelector('article').innerHTML=text})})"
    />
    <input
      type="button"
      value="fetch3"
      onclick="
    fetch('fetch3').then(function(response){response.text().then(function(text){$('article').html(text)})})"
    />
    <br /><br />
    <article></article>
    <br /><br />
  </body>
</html>
